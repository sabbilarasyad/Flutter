import 'package:flutter/material.dart';

void main() {
  runApp(MaterialApp(
    home: kalender(),
    debugShowCheckedModeBanner: false,
  ));
}

class kalender extends StatefulWidget {
  @override
  _kalenderState createState() => _kalenderState();
}

class _kalenderState extends State<kalender> {
  DateTime kalender = DateTime.now();
  TextEditingController controller = TextEditingController();
  List<String> data = [];

  @override
  Widget build(BuildContext context) {
    return Scaffold(
      body: SingleChildScrollView(
        child: Column(
          children: [

            const SizedBox(height: 20),
            const Text("KALENDER", style: TextStyle(fontSize: 24)),

            Container(
              margin: const EdgeInsets.all(30),
              decoration: BoxDecoration(
                color: const Color.fromARGB(255, 108, 116, 120),
                borderRadius: BorderRadius.circular(12),
              ),
              child: CalendarDatePicker(
                initialDate: kalender,
                firstDate: DateTime(2020),
                lastDate: DateTime(2030),
                onDateChanged: (date) {
                  setState(() {
                    kalender = date;
                  });
                },
              ),
            ),

            Text(
              "Tanggal yang dilihat: ${kalender.day}-${kalender.month}-${kalender.year}",
              style: const TextStyle(fontSize: 16),
            ),
            TextField(
              controller: controller,
              decoration: InputDecoration(
                icon: Icon(Icons.event),
                hintText: "TAMBAH EVENT"
              ),
            ),
            ElevatedButton(
            onPressed: () {
              if (controller.text.isNotEmpty) {
                setState(() {
                  data.add(
                    "${controller.text} | ""${kalender.day}-${kalender.month}-${kalender.year}"
                  );
                  controller.clear();
                });
              }
            },
            child: const Text("Tambah Event"),
          ),

            for (int i = 0; i < data.length; i++)
              ListTile(
                title: Text(data[i]),
                trailing: IconButton(
                  icon: const Icon(Icons.delete),
                  onPressed: () {
                    setState(() {
                      data.removeAt(i);
                    });
                  },
                ),
              ),
          ],
        ),
      ),
    );
  }
}
