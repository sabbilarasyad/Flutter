import 'package:flutter/material.dart';

void main() {
  runApp(MaterialApp(
    home: kalender(),
    debugShowCheckedModeBanner: false,
  ));
}

class kalender extends StatefulWidget {
  @override
  _kalenderState createState() => _kalenderState();
}

class _kalenderState extends State<kalender> {
  TextEditingController controller = TextEditingController();
  DateTime kalender = DateTime.now();
  List <String> hasil = [];

  @override
  Widget build(BuildContext context) {
    return Scaffold(
      body: SingleChildScrollView(
        child: Column(
          children: [

            const SizedBox(height: 20),
            const Text("KALENDER", style: TextStyle(fontSize: 24)),

            Container(
              margin: const EdgeInsets.all(30),
              decoration: BoxDecoration(
                color: Colors.lightBlue,
                borderRadius: BorderRadius.circular(12),
              ),
              
              child: CalendarDatePicker(
                initialDate: kalender,
                firstDate: DateTime(2020),
                lastDate: DateTime(2030),
                onDateChanged: (date) {
                  setState(() {
                    kalender = date;
                  });
                },
              ),
            ),

            Text(
              "Tanggal yang dilihat: ${kalender.day}-${kalender.month}-${kalender.year}",
              style: const TextStyle(fontSize: 16),
            ),
            TextField(
              controller: controller,
              decoration: InputDecoration(
                icon: Icon(Icons.event),
                labelText: "BUAT CATATAN EVENT",
                hintText: "....."
              ),
            ),
            ElevatedButton(
            onPressed: () {
              if (controller.text.isNotEmpty) {
                setState(() {
                  hasil.add(
                    "${controller.text} | ""${kalender.day}-${kalender.month}-${kalender.year}"
                  );
                  controller.clear();
                });
              }
            },
            child: const Text("Tambah Event"),
          ),

            
          for (int i = 0; i < hasil.length; i++)
          ListTile(
            title: Text(hasil[i]),
            trailing: IconButton(
              icon: Icon(Icons.delete),
              onPressed: () {
                setState(() {
                  hasil.removeAt(i);
                });
              },
            ),
          ),

          ],
        ),
      ),
    );
  }
}
